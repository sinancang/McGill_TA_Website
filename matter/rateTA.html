<!DOCTYPE html>
<html lang="en">

    <head>
        <title>McGill TA Management</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="../css/register.css">
    </head>
    <body>
        <form method="get" name="form" action="rateTASubmission.php">
        <p>Select a term:</p>
        <select id = "term" name ="term" onchange="termSelected(this.value)"> 
            <option> -- </option>
            <option> "FALL 2020" </option>
            <option> "WINTER 2021" </option>
            <option> "FALL 2021" </option>
            <option> "WINTER 2022" </option>
        </select>
        <p>Select a TA from the options:</p>
        <select id = "TA_dropdown" name="TA_dropdown">
        <option value="">--</option>
        </select>
        <p>Give a score for TA (1: lowest, 5: highest)</p>
        <select id = "score">
            <option> -- </option>
            <option> 1 </option>
            <option> 2 </option>
            <option> 3 </option>
            <option> 4 </option>
            <option> 5 </option>
        </select>

        <p>Leave a review:</p>
        <textarea id = "review" cols="75" name="review" rows="5"></textarea><br>
        <input type="submit" value = "submit your review" onclick="sendRateTARequest()">Submit your review</button>
        </form>
       <!-- <script src="../js/rateTA.js">  </script> -->

    </body>

<script>
    //function to generate dropdown menu for TA names from the selected term.
    function termSelected(data){
        var ajaxreq = new XMLHttpRequest(); // New request object
        ajaxreq.open('GET', '../utils/rateTAdropdown.php?selectvalue='+data, true);
        ajaxreq.send();
        ajaxreq.onreadystatechange = function(){
            if(ajaxreq.readyState==4 && ajaxreq.status==200){
                document.getElementById("TA_dropdown").innerHTML = ajaxreq.responseText;
            }          
        }
    } 
</script>