<!DOCTYPE html>
<html lang="en">

<body>

<!--Course is already selected at the begginning, how to reach that variable from the dashboard database? -->
</body>
<form method="get" name="form" action="../utils/generateTA.php">
<p>TA Performance Log</p>
        <select id = "term" name ="term" onchange="termSelected(this.value)"> 
            <option> Select a term </option>
            <option> FALL 2020 </option>
            <option> WINTER 2021 </option>
            <option> FALL 2021 </option>
            <option> WINTER 2022 </option>
        </select> <br></br>
<!--prof select a ta from a dropdown so generate dynamic dropdown-->
<select id = "TA_dropdown" name="TA_dropdown">
    <option>Select a TA</option>
</select>
<p>Leave a note about the TA:</p>
<textarea id = "review" cols="75" name="review" rows="5"></textarea><br>
<input type="submit" value = "submit your review"></button>
</form>

</html>

<script>
    //HOW TO GET COURSE NUM? IS MISSIN! //course-name get value by id in javascript and send it to php!
    //function to generate dropdown menu for TA names from the selected term.
    function termSelected(data){
        var ajaxreq = new XMLHttpRequest(); // New request object
        ajaxreq.open('GET', '../utils/generateTA.php?term='+data, true);
        ajaxreq.send();
        ajaxreq.onreadystatechange = function(){
            if(ajaxreq.readyState==4 && ajaxreq.status==200){
                document.getElementById("TA_dropdown").innerHTML = ajaxreq.responseText;
            }          
        }
    } 
</script>